{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "oneOf": [
    {
      "$ref": "#/$defs/Model"
    }
  ],
  "$defs": {
    "Augmentation": {
      "description": "An augmentation to Dart code. TODO(davidmorgan): this is a placeholder.",
      "type": "object",
      "properties": {
        "code": {
          "type": "string",
          "description": "Augmentation code."
        }
      },
      "required": ["code"]
    },
    "MetadataAnnotation": {
      "type": "object",
      "description": "A metadata annotation.",
      "properties": {
        "type": {
          "$comment": "The type of the annotation.",
          "$ref": "#/$defs/QualifiedName"
        }
      },
      "required": ["type"]
    },
    "Interface": {
      "type": "object",
      "description": "An interface.",
      "properties": {
        "metadataAnnotations": {
          "description": "The metadata annotations attached to this iterface.",
          "type": "array",
          "items": {
            "$ref": "#/$defs/MetadataAnnotation"
          }
        },
        "members": {
          "type": "object",
          "description": "Map of members by name.",
          "additionalProperties": {
            "$ref": "#/$defs/Member"
          }
        },
        "properties": {
          "$comment": "The properties of this interface.",
          "$ref": "#/$defs/Properties"
        }
      },
      "required": ["metadataAnnotations", "members", "properties"]
    },
    "Library": {
      "description": "Library.",
      "type": "object",
      "properties": {
        "scopes": {
          "type": "object",
          "description": "Scopes by name.",
          "additionalProperties": {
            "$ref": "#/$defs/Interface"
          }
        }
      },
      "required": ["scopes"]
    },
    "Member": {
      "type": "object",
      "description": "Member of a scope.",
      "properties": {
        "properties": {
          "$comment": "The properties of this member.",
          "$ref": "#/$defs/Properties"
        }
      },
      "required": ["properties"]
    },
    "Model": {
      "type": "object",
      "description": "Partial model of a corpus of Dart source code.",
      "properties": {
        "uris": {
          "type": "object",
          "description": "Libraries by URI.",
          "additionalProperties": {
            "$ref": "#/$defs/Library"
          }
        }
      },
      "required": ["uris"]
    },
    "NeverType": {
      "type": "null",
      "description": "Representation of the bottom type [Never]."
    },
    "NullableType": {
      "type": "object",
      "description": "A Dart type of the form `T?` for an inner type `T`.",
      "properties": {
        "inner": {
          "$ref": "#/$defs/StaticType"
        }
      },
      "required": ["inner"]
    },
    "Properties": {
      "type": "object",
      "description": "Set of boolean properties.",
      "properties": {
        "isAbstract": {
          "description": "Whether the entity is abstract, meaning it has no definition.",
          "type": "boolean",
          "default": false
        },
        "isClass": {
          "description": "Whether the entity is a class.",
          "type": "boolean",
          "default": false
        },
        "isGetter": {
          "description": "Whether the entity is a getter.",
          "type": "boolean",
          "default": false
        },
        "isField": {
          "description": "Whether the entity is a field.",
          "type": "boolean",
          "default": false
        },
        "isMethod": {
          "description": "Whether the entity is a method.",
          "type": "boolean",
          "default": false
        },
        "isStatic": {
          "description": "Whether the entity is static.",
          "type": "boolean",
          "default": false
        }
      }
    },
    "QualifiedName": {
      "description": "A URI combined with a name.",
      "type": "string"
    },
    "Query": {
      "type": "object",
      "description": "Query about a corpus of Dart source code. TODO(davidmorgan): this queries about a single class, expand to a union type for different types of queries.",
      "properties": {
        "target": {
          "$comment": "The class to query about.",
          "$ref": "#/$defs/QualifiedName"
        }
      },
      "required": ["target"]
    },
    "StaticType": {
      "description": "A resolved type as it appears in Dart's type hierarchy.",
      "properties": {
        "type": {
          "type": "string"
        },
        "value": {
          "oneOf": [
            {"$ref": "#/$defs/NeverType"},
            {"$ref": "#/$defs/NullableType"},
            {"$ref": "#/$defs/VoidType"}
          ]
        }
      }
    },
    "VoidType": {
      "description": "The type-hierarchy representation of the type `void`.",
      "type": "string"
    }
  }
}
